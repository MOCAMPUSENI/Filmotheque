<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Context</title>
    <link rel="stylesheet" th:href="@{/css/style-dark-cinema.css}">
</head>

<body>

<div data-th-replace="~{fragments/header :: entete}"></div>

<main class="cinema-main">

    <section class="cinema-section context-section">

        <h2 class="context-title">Espace Contexte</h2>

        <!-- === Membre connecté === -->
        <div th:if="${membre != null}" class="context-card">

            <h3 class="context-welcome">
                Bonjour <span th:text="${membre.prenom + ' ' + membre.nom}"></span> !
            </h3>

            <div class="context-info">
                <p><strong>Pseudo :</strong> <span th:text="${membre.pseudo}"></span></p>
                <p><strong>ID :</strong> <span th:text="${membre.id}"></span></p>
            </div>

            <a class="logout-btn" th:href="@{/contexte}">Déconnexion</a>
        </div>

        <!-- === Liste des membres (si non connecté) === -->
        <div th:if="${membre == null}">
            <h3 class="choose-user-title">Sélectionnez votre compte :</h3>

            <div class="user-buttons">
                <a class="user-btn"
                   th:each="m : ${listMembres}"
                   th:text="${m.prenom + ' ' + m.nom}"
                   th:href="@{/contexte/session(id=${m.id})}">
                </a>
            </div>
        </div>

    </section>

</main>

</body>
</html>
